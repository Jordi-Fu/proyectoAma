<nav class="navbar">
  <div class="navbar-brand">
    <h2>Generador de partes para acuda</h2>
  </div>

  <!-- Mobile Menu Button -->
  <button class="mobile-menu-toggle" aria-label="Toggle menu" (click)="toggleMenu()" [class.active]="isMenuOpen">
    <span class="hamburger" [class.active]="isMenuOpen"></span>
    <span class="hamburger" [class.active]="isMenuOpen"></span>
    <span class="hamburger" [class.active]="isMenuOpen"></span>
  </button>

  <!-- Navigation Menu -->
  <div class="navbar-menu" [class.active]="isMenuOpen">
    <div class="navbar-nav">
      <a routerLink="/" class="nav-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeMenu()">
        <span>Inicio</span>
      </a>
      <a routerLink="/parteRespuestaAlarma" class="nav-link" routerLinkActive="active" (click)="closeMenu()">
        <span>Parte alarma</span>
      </a>
      <a href="#" class="nav-link" (click)="closeMenu()">
        <span>Dashboard</span>
      </a>
      <a href="#" class="nav-link" (click)="closeMenu()">
        <span>Proyectos</span>
      </a>
      <a href="#" class="nav-link" (click)="closeMenu()">
        <span>Configuración</span>
      </a>
      <a href="#" class="nav-link logout-link" (click)="logout(); closeMenu()">
        <span>🚪 Cerrar Sesión</span>
      </a>
    </div>
  </div>

  <div class="navbar-logo">
    <img src="/assets/svc-logo.jpg" alt="SVC Logo" class="nav-logo">
  </div>
</nav>

<!-- Contenido principal -->
<div class="main-content" *ngIf="currentUser$ | async as currentUser">
  <div class="welcome-section">
    <h1>Bienvenido{{ currentUser?.nombre ? ', ' + currentUser.nombre : '' }}</h1>
    <p>Sistema de gestión de documentos y partes de alarma</p>
  </div>

  <div class="content-grid">
    <!-- Sección de acciones rápidas -->
    <div class="quick-actions">
      <h3>Acciones Rápidas</h3>
      <div class="action-buttons">
        <button type="button" (click)="irParteAlarma()" class="action-btn primary">
          📝 Crear Parte de Alarma
        </button>
        <button type="button" class="action-btn secondary">
          📊 Ver Estadísticas
        </button>
      </div>
    </div>

    <!-- Componente de lista de documentos -->
    <div class="documents-section">
      <app-lista-documentos></app-lista-documentos>
    </div>
  </div>
</div>

<!-- Fallback mientras se carga el usuario -->
<div class="main-content" *ngIf="!(currentUser$ | async)">
  <div class="welcome-section">
    <h1>Bienvenido</h1>
    <p>Sistema de gestión de documentos y partes de alarma</p>
  </div>

  <div class="content-grid">
    <!-- Sección de acciones rápidas -->
    <div class="quick-actions">
      <h3>Acciones Rápidas</h3>
      <div class="action-buttons">
        <button type="button" (click)="irParteAlarma()" class="action-btn primary">
          📝 Crear Parte de Alarma
        </button>
        <button type="button" class="action-btn secondary">
          📊 Ver Estadísticas
        </button>
      </div>
    </div>

    <!-- Componente de lista de documentos -->
    <div class="documents-section">
      <app-lista-documentos></app-lista-documentos>
    </div>
  </div>
</div>
